{"version":3,"sources":["../src/plugin.js"],"names":[],"mappings":"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","file":"plugin.js","sourcesContent":["// LICENSE : MIT\n\"use strict\";\nrequire(['gitbook'], function (gitbook) {\n    function addBeforeHeader(element) {\n        jQuery('.book-header > h1').before(element)\n    }\n\n    function createButton({\n        user,\n        repo,\n        type,\n        size,\n        width,\n        height,\n        count\n        }) {\n        var extraParam = type === \"watch\" ? \"&v=2\" : \"\";\n        return `<a class=\"btn pull-right hidden-mobile\" aria-label=\"github\">\n        <iframe style=\"display:inline-block;vertical-align:middle;\" src=\"https://ghbtns.com/github-btn.html?user=${user}&repo=${repo}&type=${type}&count=${count}&size=${size}${extraParam}\" frameborder=\"0\" scrolling=\"0\" width=\"${width}px\" height=\"${height}px\"></iframe>\n        </a>`;\n    }\n\n\n    function insertGitHubLink({\n        user,\n        repo,\n        types,\n        size,\n        width,\n        height,\n        count\n        }) {\n        types.reverse().forEach(type => {\n            var elementString = createButton({\n                user,\n                repo,\n                type,\n                size,\n                width,\n                height,\n                count\n            });\n            addBeforeHeader(elementString);\n        });\n    }\n\n    function init(config) {\n        var repoPath = config.repo;\n        var [user, repo] = repoPath.split(\"/\");\n        if (repoPath == null) {\n            console.log(\"Should set github.repo\");\n            return;\n        }\n        var types = config.types || [\"star\", \"watch\"];\n        var size = config.size || \"large\";\n        var width = config.width || (size === \"large\" ? \"150\" : \"100\");\n        var height = config.height || (size === \"large\" ? \"30\" : \"20\");\n        var count = typeof config.count === \"undefined\" ? \"true\" : \"false\";\n        insertGitHubLink({\n            user,\n            repo,\n            types,\n            size,\n            width,\n            height,\n            count\n        });\n    }\n\n    // injected by html hook\n    function getPluginConfig() {\n        return window[\"gitbook-plugin-github-buttons\"];\n    }\n\n    // make sure configuration gets injected\n    gitbook.events.bind('start', function (e, config) {\n        window[\"gitbook-plugin-github-buttons\"] = config[\"github-buttons\"];\n    });\n\n    gitbook.events.bind('page.change', function () {\n        init(getPluginConfig());\n    });\n});\n"]}